### 复习第二天

1.mybatis的一二级缓存的区别

一级-sqlsession

二级-xml文件



#### 全链路压测，接口压测

jmeter



#### 创建型

单例，工厂，建造者，原型

#### 结构型

装饰，桥接，代理，组合

#### 行为型

策略，委派，责任链





#### 饿汉

类加载的时候初始化，创建对象安全，内存浪费



#### 饿汉式

不会浪费，怎么保证安全

双重检查锁：外面的性能，里面的安全 dcl

静态内部类：懒加载



#### 注册式

枚举：饿汉

容器式单例：



反射，序列化，clone

反射：重写私有构造方法

序列化：重写readResoleve，返回单例



#### 动态代理

mybatis和aop

1.类加载器，接口，invokehandler

2.生产类通过反射并且需要实现被代理类的所有接口



cglib

生产多个fastclass，

asm框架，fastclass机制调用





jdk要有接口，cglib不是接口继承父类

jdk更慢，cglib更快

jdk需要public方法



#### 高可用

1.集群

2.降级

3.拆分服务

4.动态扩容

5.限流

6.熔断