
 <!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
    <title>yorkiiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="yorkiiz">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="yorkiiz">
<meta property="og:url" content="https://yorkiiz.github.io/index.html">
<meta property="og:site_name" content="yorkiiz">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="yorkiiz">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="/atom.xml" title="yorkiiz" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/%02.css">
<link rel="stylesheet" href="/.css">

<meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="yorkiiz" title="yorkiiz"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="yorkiiz">yorkiiz</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yorkiiz.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/19/阿里巴巴云商城--一业务架构知识学习/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-18T16:59:12.697Z" itemprop="datePublished"> Published 2021-08-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="阿里巴巴云商城–一业务架构知识学习"><a href="#阿里巴巴云商城–一业务架构知识学习" class="headerlink" title="阿里巴巴云商城–一业务架构知识学习"></a>阿里巴巴云商城–一业务架构知识学习</h3><h4 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h4><p>1.云商城架构学习</p>
<p>2.基础数据管理，分布式文件管理</p>
<p>3.高性能门户首页构建</p>
<p>4.海量数据搜索实现</p>
<p>5.详情页实战</p>
<p>6.购物车、订单</p>
<p>7.分布式事务解决方案</p>
<p>8.微信支付</p>
<p>9.商品秒杀-数据处理</p>
<p>10.商品秒杀-热点数据实时发现系统</p>
<p>11.商品秒杀-程序隔离解决方案</p>
<p>12.官网鉴权</p>
<p>13.生产环境灾难控制</p>
<p>14.百万并发站点构建</p>
<h4 id="业务架构环境"><a href="#业务架构环境" class="headerlink" title="业务架构环境"></a>业务架构环境</h4><p>电商模式</p>
<p>业务学习</p>
<p>云商城架构</p>
<p>云商城表结构</p>
<p>搭建环境</p>
<p>增删改查实现</p>
<h4 id="业务功能"><a href="#业务功能" class="headerlink" title="业务功能"></a>业务功能</h4><p>商品增删改查</p>
<p>参数增删改查</p>
<p>订单增删改查</p>
<p>列表分类，首页广告（考虑并发）</p>
<p>动态搜索条件-es</p>
<p>加入购物车</p>
<p>用户登录</p>
<p>选择指定商品，进行下单</p>
<p>支付</p>
<p>秒杀并发量</p>
<p>秒杀商品流量控制</p>
<h4 id="前后端分离开发模式"><a href="#前后端分离开发模式" class="headerlink" title="前后端分离开发模式"></a>前后端分离开发模式</h4><p>js-html-jsp</p>
<p>vue，elementUI，nodeJS</p>
<p>用swagger定义接口，开发restful接口，最后更改接口路径</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210818225523479.png" alt="image-20210818225523479"></p>
<h4 id="swagger的使用"><a href="#swagger的使用" class="headerlink" title="swagger的使用"></a>swagger的使用</h4><h4 id="云商城技术架构讲解"><a href="#云商城技术架构讲解" class="headerlink" title="云商城技术架构讲解"></a>云商城技术架构讲解</h4><p>用户—lvs400w—ngnix5w—gateway网关（限流，建权）—后端微服务—分布式事务—数据库</p>
<h4 id="云商城技术架构"><a href="#云商城技术架构" class="headerlink" title="云商城技术架构"></a>云商城技术架构</h4><p>客户端</p>
<ul>
<li>PC     H5    小程序    Android    IOS</li>
</ul>
<p>接入层</p>
<ul>
<li>心跳切换VIP： keepalived    keepalived    keepalived    keepalived</li>
<li>四层负载：       LVS集群          LVS集群          LVS集群          LVS集群         </li>
<li>七层负载：       Nginx集群      Nginx集群      Nginx集群      Nginx集群      </li>
</ul>
<p>网关层</p>
<ul>
<li><p>应用网关：         Gateway Filter Gateway Router Gateway鉴权 Gateway限流</p>
<p>​                             水平拓展</p>
</li>
</ul>
<p>服务层</p>
<ul>
<li>商品服务    订单服务    用户服务    搜索服务    秒杀服务</li>
</ul>
<p>​                               SpringCloud Alibaba技术栈</p>
<p>数据同步</p>
<ul>
<li>ES搜索数据同步   热门数据同步  缓存数据同步  静态页同步   Proxy缓存同步</li>
</ul>
<p>服务治理</p>
<ul>
<li>服务主册    服务发现    统一配置    服务熔断    服务限流</li>
</ul>
<p>数据处理</p>
<ul>
<li><p>MySQL    Redis6.x高速缓存    Ceph分布式文件存储     ElasticSearch千亿级数据    Apache Druid千亿日志析</p>
</li>
<li><p>Kafka实时日志收集   RocketMQ统一消息处理    XXL-Job分布式 事务    MongoDB购物车永久保存</p>
</li>
</ul>
<p>第三方接口</p>
<ul>
<li>短信通道    支付通道</li>
</ul>
<p>​    微信、阿里云短信平台</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/17/rabbitmq操作指南/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-16T17:27:19.715Z" itemprop="datePublished"> Published 2021-08-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="rabbitmq操作指南"><a href="#rabbitmq操作指南" class="headerlink" title="rabbitmq操作指南"></a>rabbitmq操作指南</h3><h4 id="消费者"><a href="#消费者" class="headerlink" title="消费者"></a>消费者</h4><ul>
<li>创建工厂（host，port，virtualhost，username，password）</li>
<li>创建连接</li>
<li>创建channel</li>
<li>调用channel</li>
</ul>
<p>消费者方法：channel.basicConsume(,,)</p>
<p>消费者创建mq配置：channel.exchangeDeclare；channel.queueDeclare；channel.queueBind</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建工厂</span></span><br><span class="line">ConnectionFactory factory = <span class="keyword">new</span> ConnectionFactory();</span><br><span class="line"><span class="comment">// 连接IP</span></span><br><span class="line">factory.setHost(<span class="string">&quot;192.168.1.128&quot;</span>);</span><br><span class="line"><span class="comment">// 默认监听端口</span></span><br><span class="line">factory.setPort(<span class="number">5672</span>);</span><br><span class="line"><span class="comment">// 虚拟机</span></span><br><span class="line">factory.setVirtualHost(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置访问的用户</span></span><br><span class="line">factory.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">factory.setPassword(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line"><span class="comment">// 2.建立连接</span></span><br><span class="line">Connection conn = factory.newConnection();</span><br><span class="line"><span class="comment">// 3.创建消息通道</span></span><br><span class="line">Channel channel = conn.createChannel();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建消费者</span></span><br><span class="line">        Consumer consumer = <span class="keyword">new</span> DefaultConsumer(channel) &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleDelivery</span><span class="params">(String consumerTag, Envelope envelope, AMQP.BasicProperties properties,</span></span></span><br><span class="line"><span class="params"><span class="function">                                       <span class="keyword">byte</span>[] body)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">                String msg = <span class="keyword">new</span> String(body, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Received message : &#x27;&quot;</span> + msg + <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;consumerTag : &quot;</span> + consumerTag );</span><br><span class="line">                System.out.println(<span class="string">&quot;deliveryTag : &quot;</span> + envelope.getDeliveryTag() );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.开始获取消息</span></span><br><span class="line"><span class="comment">// String queue, boolean autoAck, Consumer callback</span></span><br><span class="line">channel.basicConsume(QUEUE_NAME, <span class="keyword">true</span>, consumer);</span><br></pre></td></tr></table></figure>





<h4 id="生产者"><a href="#生产者" class="headerlink" title="生产者"></a>生产者</h4><ul>
<li>创建工厂</li>
<li>创建连接</li>
<li>创建通道</li>
<li>发送消息</li>
</ul>
<p>生产者方法：channel.basicpublish(,,)</p>
<p>生产者必须关闭通道和连接</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建工厂</span></span><br><span class="line">ConnectionFactory factory = <span class="keyword">new</span> ConnectionFactory();</span><br><span class="line"><span class="comment">// 连接IP</span></span><br><span class="line">factory.setHost(<span class="string">&quot;192.168.1.128&quot;</span>);</span><br><span class="line"><span class="comment">// 连接端口</span></span><br><span class="line">factory.setPort(<span class="number">5672</span>);</span><br><span class="line"><span class="comment">// 虚拟机</span></span><br><span class="line">factory.setVirtualHost(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="comment">// 用户</span></span><br><span class="line">factory.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">factory.setPassword(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.建立连接</span></span><br><span class="line">Connection conn = factory.newConnection();</span><br><span class="line"><span class="comment">// 3.创建消息通道</span></span><br><span class="line">Channel channel = conn.createChannel();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.发送消息</span></span><br><span class="line">String msg = <span class="string">&quot;Hello world, Rabbit MQ&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// String exchange, String routingKey, BasicProperties props, byte[] body</span></span><br><span class="line">channel.basicPublish(EXCHANGE_NAME, <span class="string">&quot;gupao.best&quot;</span>, <span class="keyword">null</span>, msg.getBytes());</span><br><span class="line"></span><br><span class="line">channel.close();</span><br><span class="line">conn.close();</span><br></pre></td></tr></table></figure>



<h4 id="队列删除"><a href="#队列删除" class="headerlink" title="队列删除"></a>队列删除</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">channel.queueDelete</span><br><span class="line">channel.exchangeDelete</span><br></pre></td></tr></table></figure>



<h3 id="死信队列"><a href="#死信队列" class="headerlink" title="死信队列"></a>死信队列</h3><p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210817010215043.png" alt="image-20210817010215043"></p>
<p>生产者抛消息给队列，队列没有消息，队列绑定了过期的exchange或者queue，消息里面有设置过期时间，过期后就把消息丢给对应的exchange或者queue</p>
<p>启用插件</p>
<p>rabbitmq-plugins enable rabbitmq_management</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/16/rabbitmq 工作模型/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-15T17:15:36.690Z" itemprop="datePublished"> Published 2021-08-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="rabbitmq-工作模型"><a href="#rabbitmq-工作模型" class="headerlink" title="rabbitmq 工作模型"></a>rabbitmq 工作模型</h3><p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210814110251211.png" alt="image-20210814110251211"></p>
<p>生产者–channel–broker–channel–consumer</p>
<p>broker里面的queue是放在erlang写的Mnesia数据库里面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">while&#123;</span><br><span class="line"></span><br><span class="line">   channel.basicGet();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">channel.basicPublish(msg);</span><br><span class="line"></span><br><span class="line">channel.basicPublish(flag,msg);</span><br></pre></td></tr></table></figure>



<p>exchange来路由消息</p>
<p>vhost</p>
<h3 id="Exchange路由消息详解"><a href="#Exchange路由消息详解" class="headerlink" title="Exchange路由消息详解"></a>Exchange路由消息详解</h3><h4 id="直连类型"><a href="#直连类型" class="headerlink" title="直连类型"></a>直连类型</h4><p>![image-20210814141557476](C:\Users\admin\Desktop\rabbitmq 工作模型\image-20210814141557476.png)</p>
<p>消息的路由键：routing key</p>
<p>channel.basicPublish(exc_name,”spring”,”msg1”);</p>
<p>exc_name:exchange直连交换机名称</p>
<p>spring：routing key</p>
<p>msg1：消息内容</p>
<p>路由键==绑定建</p>
<h4 id="topic主题"><a href="#topic主题" class="headerlink" title="topic主题"></a>topic主题</h4><p>*一个单词</p>
<p>#0个或者多个单词</p>
<p>routing key可以带通配符</p>
<h4 id="fanout广播"><a href="#fanout广播" class="headerlink" title="fanout广播"></a>fanout广播</h4><p>routing key为空</p>
<p> 所有绑定exchange的queue都会收到消息</p>
<h3 id="rabbitmq的基本使用"><a href="#rabbitmq的基本使用" class="headerlink" title="rabbitmq的基本使用"></a>rabbitmq的基本使用</h3><p>1.引入依赖</p>
<p>2.消费者</p>
<p>3.生产者</p>
<p>4.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/16/rabbitmq与erlang安装/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-15T17:15:36.684Z" itemprop="datePublished"> Published 2021-08-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="rabbitmq与erlang安装"><a href="#rabbitmq与erlang安装" class="headerlink" title="rabbitmq与erlang安装"></a>rabbitmq与erlang安装</h2><h2 id="版本关系"><a href="#版本关系" class="headerlink" title="版本关系"></a>版本关系</h2><p>1、RabbitMQ依赖于Erlang，需要先安装Erlang<br>2、Erlang和RabbitMQ版本有对应关系<br><a target="_blank" rel="noopener" href="http://www.rabbitmq.com/which-erlang.html">http://www.rabbitmq.com/which-erlang.html</a></p>
<p><img src="https://gper.club/server-img//mdEditors/2020/10/c6a793d8069c4ada8acb1a2e2bd3ae1b.png" alt="image.png"></p>
<h2 id="下载安装Erlang-23-1"><a href="#下载安装Erlang-23-1" class="headerlink" title="下载安装Erlang 23.1"></a>下载安装Erlang 23.1</h2><p>如果下载太慢了，可以把地址贴到迅雷里面，下载到本机</p>
<p><a target="_blank" rel="noopener" href="https://www.erlang.org/downloads/23.1">https://www.erlang.org/downloads/23.1</a><br>exe文件一路next就可以</p>
<h2 id="配置Erlang环境变量"><a href="#配置Erlang环境变量" class="headerlink" title="配置Erlang环境变量"></a>配置Erlang环境变量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERLANG_HOME=C:\Program Files\erl23.1</span><br></pre></td></tr></table></figure>

<p>Path添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%ERLANG_HOME%\bin;</span><br></pre></td></tr></table></figure>

<p>CMD输入 <code>erl</code>，输入能显示版本号则安装正确</p>
<h2 id="下载安装RabbitMQ-3-8-9"><a href="#下载安装RabbitMQ-3-8-9" class="headerlink" title="下载安装RabbitMQ 3.8.9"></a>下载安装RabbitMQ 3.8.9</h2><p><a target="_blank" rel="noopener" href="http://www.rabbitmq.com/install-windows.html">http://www.rabbitmq.com/install-windows.html</a></p>
<h2 id="RabbitMQ-环境变量"><a href="#RabbitMQ-环境变量" class="headerlink" title="RabbitMQ 环境变量"></a>RabbitMQ 环境变量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RABBITMQ_SERVER=C:\Program Files\RabbitMQ Server\rabbitmq_server-3.8.9</span><br></pre></td></tr></table></figure>

<p>在Path中加入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%RABBITMQ_SERVER%\sbin;</span><br></pre></td></tr></table></figure>

<h2 id="启用RabbitMQ管理插件"><a href="#启用RabbitMQ管理插件" class="headerlink" title="启用RabbitMQ管理插件"></a>启用RabbitMQ管理插件</h2><p>CMD中输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;C:\Program Files\RabbitMQ Server\rabbitmq_server-3.8.9\sbin\rabbitmq-plugins.bat&quot; enable rabbitmq_management</span><br></pre></td></tr></table></figure>

<h2 id="启动RabbitMQ"><a href="#启动RabbitMQ" class="headerlink" title="启动RabbitMQ"></a>启动RabbitMQ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start RabbitMQ</span><br></pre></td></tr></table></figure>

<p>关闭RabbitMQ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop RabbitMQ</span><br></pre></td></tr></table></figure>

<p>访问管理界面：<a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672/</a><br>默认用户名：guest<br>默认密码为：guest</p>
<p>默认配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\你的用户名\AppData\Roaming\RabbitMQ\advanced.config</span><br></pre></td></tr></table></figure>

<p>数据目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\用户名\AppData\Roaming\RabbitMQ\db\rabbit@用户名-mnesia</span><br></pre></td></tr></table></figure>

<p>附：<br>如果遇到无法启动的问题，先尝试在控制面板 —— 服务 —— 中启动。<br>如果已经启动了，先服务里面停掉<br>或者尝试用命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.\rabbitmq-server.bat stop</span><br><span class="line">.\rabbitmq-server.bat start</span><br></pre></td></tr></table></figure>

<p>注意只能用CMD，不要用powershell</p>
<p>如果要初始化RabbitMQ，移除全部数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-service stop</span><br><span class="line">rabbitmq-service remove</span><br><span class="line">rabbitmq-service install</span><br><span class="line">rabbitmq-service start</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/16/rabbit mq连接失败/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-15T17:15:36.679Z" itemprop="datePublished"> Published 2021-08-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="rabbit-mq连接失败"><a href="#rabbit-mq连接失败" class="headerlink" title="rabbit mq连接失败"></a>rabbit mq连接失败</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ConnectionFactory factory = <span class="keyword">new</span> ConnectionFactory();</span><br><span class="line"><span class="comment">// 连接IP</span></span><br><span class="line">factory.setHost(<span class="string">&quot;192.168.1.128&quot;</span>);</span><br><span class="line"><span class="comment">// 默认监听端口</span></span><br><span class="line">factory.setPort(<span class="number">15672</span>);</span><br><span class="line"><span class="comment">// 虚拟机</span></span><br><span class="line">factory.setVirtualHost(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置访问的用户</span></span><br><span class="line">factory.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">factory.setPassword(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line"><span class="comment">// 建立连接</span></span><br><span class="line">Connection conn = factory.newConnection();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;C:\Program Files\java\jdk1.8.0_91\bin\java.exe&quot;</span> <span class="string">&quot;-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA 2019.2.4\lib\idea_rt.jar=54668:C:\Program Files\JetBrains\IntelliJ IDEA 2019.2.4\bin&quot;</span> -Dfile.encoding=UTF-<span class="number">8</span> -classpath <span class="string">&quot;C:\Program Files\java\jdk1.8.0_91\jre\lib\charsets.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\deploy.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\access-bridge-64.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\cldrdata.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\dnsns.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\jaccess.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\jfxrt.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\localedata.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\nashorn.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunec.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunjce_provider.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunmscapi.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunpkcs11.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\zipfs.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\javaws.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jce.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jfr.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jfxswt.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jsse.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\management-agent.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\plugin.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\resources.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\rt.jar;D:\study\mq\gupaoedu-vip-rabbitmq-javaapi\target\classes;D:\repository\com\rabbitmq\amqp-client\5.6.0\amqp-client-5.6.0.jar;D:\repository\org\slf4j\slf4j-api\1.7.25\slf4j-api-1.7.25.jar;D:\repository\org\slf4j\slf4j-simple\1.7.25\slf4j-simple-1.7.25.jar&quot;</span> com.gupaoedu.simple.MyConsumer</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.io.IOException</span><br><span class="line">	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:<span class="number">129</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:<span class="number">125</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:<span class="number">375</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.recovery.RecoveryAwareAMQConnectionFactory.newConnection(RecoveryAwareAMQConnectionFactory.java:<span class="number">64</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.recovery.AutorecoveringConnection.init(AutorecoveringConnection.java:<span class="number">156</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1106</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1063</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1021</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1182</span>)</span><br><span class="line">	at com.gupaoedu.simple.MyConsumer.main(MyConsumer.java:<span class="number">29</span>)</span><br><span class="line">Caused by: com.rabbitmq.client.ShutdownSignalException: connection error</span><br><span class="line">	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:<span class="number">66</span>)</span><br><span class="line">	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:<span class="number">36</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:<span class="number">502</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:<span class="number">317</span>)</span><br><span class="line">	... <span class="number">7</span> more</span><br><span class="line">Caused by: java.io.EOFException</span><br><span class="line">	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:<span class="number">290</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:<span class="number">91</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:<span class="number">164</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:<span class="number">598</span>)</span><br><span class="line">	at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="代码如1，报错如2"><a href="#代码如1，报错如2" class="headerlink" title="代码如1，报错如2"></a>代码如1，报错如2</h4><p>报错原因，rabbit mq的15672为管理端口，使用5672端口即可。</p>
<p>某些情况用15672端口也行</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/redis数据淘汰与内存回收/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:32:08.534Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="数据淘汰与内存回收"><a href="#数据淘汰与内存回收" class="headerlink" title="数据淘汰与内存回收"></a>数据淘汰与内存回收</h3><p>1.定时过期：到了key的过期时间，立即删除</p>
<p>2.<strong>惰性过期</strong>：key被访问的时候才判断是否过期，过期则删除</p>
<p>3.<strong>定时过期</strong>：每隔一段时间，清除一定数量的过期的key</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210811192730434.png" alt="image-20210811192730434"></p>
<p>maxmemory </p>
<p>config set maxmemory 2GB</p>
<p>lru:least recently used</p>
<p>lfu:least frequently used</p>
<p>实现一个lru的算法：</p>
<p>链表+hash</p>
<p>链表里面放元素，放满了就把最后面的元素给删除</p>
<p>redis里面是每个key保持一个时间戳，key更新时从server.lruclock拿取时间</p>
<p>采样的时候就删除一些数据</p>
<p>lfu</p>
<p>基于访问频率实现</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210811195353107.png" alt="image-20210811195353107"></p>
<p>log-factor越大，计数器增长越慢</p>
<p>lfu-decay-time 一分钟减小1</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/Redis lua脚本/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:32:06.310Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="Redis-lua脚本"><a href="#Redis-lua脚本" class="headerlink" title="Redis lua脚本"></a>Redis lua脚本</h3><p>指令：</p>
<p>eval lua-script key-num</p>
<p>redis.call(command,key[param1,param2])</p>
<p>eval “redis.call(‘set’,KEYS[1],ARGV[1])” 1 qs 2673</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/redis的数据类型/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:31:45.475Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="redis的数据类型"><a href="#redis的数据类型" class="headerlink" title="redis的数据类型"></a>redis的数据类型</h3><h4 id="目前官网一共有8中"><a href="#目前官网一共有8中" class="headerlink" title="目前官网一共有8中"></a>目前官网一共有8中</h4><p>strings, hashes, lists, sets, sorted sets </p>
<p>hyperloglogs, geospatial indexes, and streams</p>
<p>字符串</p>
<p>String</p>
<p>int</p>
<p>float</p>
<h4 id="操作指令"><a href="#操作指令" class="headerlink" title="操作指令"></a>操作指令</h4><h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><p>指令</p>
<p>mset yongjie 1234 qingshan 666 EX 10   10秒过期</p>
<p>mset yongjie 1234 qingshan 666 PX 10    10毫秒过期</p>
<p>mset yongjie 1234 qingshan 666 NX 10     不存在才成功</p>
<p>mset yongjie 1234 qingshan 666 XX 10     存在才成功</p>
<p>mget yongjie qingshan</p>
<p>strlen qingshan</p>
<p>append qingshang good</p>
<p>getranger qingshan 0 8</p>
<p>incr qingshan</p>
<p>incrby qingshan 100</p>
<p>decr qingshan</p>
<p>decrby qingshan 100</p>
<p>set f 2.6</p>
<p>incrbyfloat f 7.3</p>
<p>del f</p>
<p>批量赋值可以保证原子性</p>
<p>string应用场景</p>
<p>1.缓存</p>
<p>2.分布式session</p>
<p>3.set NX EX分布式锁</p>
<p>4.incr全局ID</p>
<p>5.incr计数器</p>
<p>6.incr限流</p>
<p>7.位操作统计</p>
<h4 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h4><table>
<thead>
<tr>
<th>id</th>
<th>sno</th>
<th>sname</th>
<th>company</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>16666</td>
<td>张岩</td>
<td>腾讯</td>
</tr>
<tr>
<td>2</td>
<td>17777</td>
<td>王芳</td>
<td>百度</td>
</tr>
<tr>
<td>3</td>
<td>18888</td>
<td>刘厉</td>
<td>阿里</td>
</tr>
</tbody></table>
<p>mset student:1:sno 1666 student:1:sname 张岩</p>
<p>hash里面value只能存储字符串</p>
<p>hash和string区别：</p>
<ul>
<li><p>用冒号去分层，减少内存的消耗</p>
</li>
<li><p>减少命名的冲突</p>
</li>
<li><p>一次取多个，减少资源的消耗</p>
</li>
</ul>
<p>hash是按照key取模去做集群，如果一个key特别大，没办法分流</p>
<p>指令：</p>
<p>hset h1 f 6</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/rabbitmq安装/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:31:24.876Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="rabbitmq安装"><a href="#rabbitmq安装" class="headerlink" title="rabbitmq安装"></a>rabbitmq安装</h3><p><strong>安装</strong></p>
<p><a target="_blank" rel="noopener" href="https://gper.club/articles/7e7e7f7ff4g56gceg6e">https://gper.club/articles/7e7e7f7ff4g56gceg6e</a></p>
<p>erlang版本与rabbitmq验证</p>
<p><a target="_blank" rel="noopener" href="http://www.rabbitmq.com/which-erlang.html">http://www.rabbitmq.com/which-erlang.html</a></p>
<p><strong>安装erlang</strong></p>
<p><strong>验证erlang：erl</strong></p>
<p><strong>安装rabbitmq</strong></p>
<p><strong>配置环境变量</strong></p>
<p><strong>启动rabbitmq</strong></p>
<p><strong>添加其他用户</strong></p>
<p><strong>启用管理插件</strong></p>
<p><strong>端口15627</strong></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/10/redis GEO Spatial & Hyperloglogs/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-10T02:40:50.273Z" itemprop="datePublished"> Published 2021-08-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="redis-GEO-Spatial-amp-Hyperloglogs"><a href="#redis-GEO-Spatial-amp-Hyperloglogs" class="headerlink" title="redis GEO Spatial &amp; Hyperloglogs"></a>redis GEO Spatial &amp; Hyperloglogs</h3><p><strong>geo spatial</strong></p>
<p>指令：</p>
<p>geoadd citys 121.48 21.22 sh 113.01 28.19 cs</p>
<p>geopos  citys cs</p>
<p>geopos citys sh cs km</p>
<p>georadius citys 113.01 28.19 5 km</p>
<p>georadiusbymember citys cs 20 km</p>
<p>添加两个城市的经纬度</p>
<p>显示某个城市的经纬度</p>
<p>计算两个城市的距离</p>
<p>显示某个位置5km的城市</p>
<p><strong>hyperloglogs</strong></p>
<p>指令：</p>
<p>pfadd log 1 2 3 4 5 6 7 8</p>
<p>pfcount log</p>
<p>pfadd qs a b c d e f g</p>
<p>pfcount qs </p>
<p>pfmerge result log qs</p>
<p>应用：</p>
<p>统计网站用户的访问量</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next&lt;span&gt;&lt;&#x2F;span&gt;</a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  

  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m yorkiiz in github. <br/>
			天道酬勤.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2021 
		
		<a href="/about" target="_blank" title="yorkiiz">yorkiiz</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
