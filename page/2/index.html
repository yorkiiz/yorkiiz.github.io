
 <!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
    <title>yorkiiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="yorkiiz">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="yorkiiz">
<meta property="og:url" content="https://yorkiiz.github.io/page/2/index.html">
<meta property="og:site_name" content="yorkiiz">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="yorkiiz">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="/atom.xml" title="yorkiiz" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/%02.css">
<link rel="stylesheet" href="/.css">

<meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="yorkiiz" title="yorkiiz"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="yorkiiz">yorkiiz</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yorkiiz.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/16/rabbit mq连接失败/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-15T17:15:36.679Z" itemprop="datePublished"> Published 2021-08-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="rabbit-mq连接失败"><a href="#rabbit-mq连接失败" class="headerlink" title="rabbit mq连接失败"></a>rabbit mq连接失败</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ConnectionFactory factory = <span class="keyword">new</span> ConnectionFactory();</span><br><span class="line"><span class="comment">// 连接IP</span></span><br><span class="line">factory.setHost(<span class="string">&quot;192.168.1.128&quot;</span>);</span><br><span class="line"><span class="comment">// 默认监听端口</span></span><br><span class="line">factory.setPort(<span class="number">15672</span>);</span><br><span class="line"><span class="comment">// 虚拟机</span></span><br><span class="line">factory.setVirtualHost(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置访问的用户</span></span><br><span class="line">factory.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">factory.setPassword(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line"><span class="comment">// 建立连接</span></span><br><span class="line">Connection conn = factory.newConnection();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;C:\Program Files\java\jdk1.8.0_91\bin\java.exe&quot;</span> <span class="string">&quot;-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA 2019.2.4\lib\idea_rt.jar=54668:C:\Program Files\JetBrains\IntelliJ IDEA 2019.2.4\bin&quot;</span> -Dfile.encoding=UTF-<span class="number">8</span> -classpath <span class="string">&quot;C:\Program Files\java\jdk1.8.0_91\jre\lib\charsets.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\deploy.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\access-bridge-64.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\cldrdata.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\dnsns.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\jaccess.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\jfxrt.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\localedata.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\nashorn.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunec.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunjce_provider.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunmscapi.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\sunpkcs11.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\ext\zipfs.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\javaws.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jce.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jfr.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jfxswt.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\jsse.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\management-agent.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\plugin.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\resources.jar;C:\Program Files\java\jdk1.8.0_91\jre\lib\rt.jar;D:\study\mq\gupaoedu-vip-rabbitmq-javaapi\target\classes;D:\repository\com\rabbitmq\amqp-client\5.6.0\amqp-client-5.6.0.jar;D:\repository\org\slf4j\slf4j-api\1.7.25\slf4j-api-1.7.25.jar;D:\repository\org\slf4j\slf4j-simple\1.7.25\slf4j-simple-1.7.25.jar&quot;</span> com.gupaoedu.simple.MyConsumer</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.io.IOException</span><br><span class="line">	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:<span class="number">129</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:<span class="number">125</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:<span class="number">375</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.recovery.RecoveryAwareAMQConnectionFactory.newConnection(RecoveryAwareAMQConnectionFactory.java:<span class="number">64</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.recovery.AutorecoveringConnection.init(AutorecoveringConnection.java:<span class="number">156</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1106</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1063</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1021</span>)</span><br><span class="line">	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:<span class="number">1182</span>)</span><br><span class="line">	at com.gupaoedu.simple.MyConsumer.main(MyConsumer.java:<span class="number">29</span>)</span><br><span class="line">Caused by: com.rabbitmq.client.ShutdownSignalException: connection error</span><br><span class="line">	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:<span class="number">66</span>)</span><br><span class="line">	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:<span class="number">36</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:<span class="number">502</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:<span class="number">317</span>)</span><br><span class="line">	... <span class="number">7</span> more</span><br><span class="line">Caused by: java.io.EOFException</span><br><span class="line">	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:<span class="number">290</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:<span class="number">91</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:<span class="number">164</span>)</span><br><span class="line">	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:<span class="number">598</span>)</span><br><span class="line">	at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="代码如1，报错如2"><a href="#代码如1，报错如2" class="headerlink" title="代码如1，报错如2"></a>代码如1，报错如2</h4><p>报错原因，rabbit mq的15672为管理端口，使用5672端口即可。</p>
<p>某些情况用15672端口也行</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/redis数据淘汰与内存回收/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:32:08.534Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="数据淘汰与内存回收"><a href="#数据淘汰与内存回收" class="headerlink" title="数据淘汰与内存回收"></a>数据淘汰与内存回收</h3><p>1.定时过期：到了key的过期时间，立即删除</p>
<p>2.<strong>惰性过期</strong>：key被访问的时候才判断是否过期，过期则删除</p>
<p>3.<strong>定时过期</strong>：每隔一段时间，清除一定数量的过期的key</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210811192730434.png" alt="image-20210811192730434"></p>
<p>maxmemory </p>
<p>config set maxmemory 2GB</p>
<p>lru:least recently used</p>
<p>lfu:least frequently used</p>
<p>实现一个lru的算法：</p>
<p>链表+hash</p>
<p>链表里面放元素，放满了就把最后面的元素给删除</p>
<p>redis里面是每个key保持一个时间戳，key更新时从server.lruclock拿取时间</p>
<p>采样的时候就删除一些数据</p>
<p>lfu</p>
<p>基于访问频率实现</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210811195353107.png" alt="image-20210811195353107"></p>
<p>log-factor越大，计数器增长越慢</p>
<p>lfu-decay-time 一分钟减小1</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/Redis lua脚本/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:32:06.310Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="Redis-lua脚本"><a href="#Redis-lua脚本" class="headerlink" title="Redis lua脚本"></a>Redis lua脚本</h3><p>指令：</p>
<p>eval lua-script key-num</p>
<p>redis.call(command,key[param1,param2])</p>
<p>eval “redis.call(‘set’,KEYS[1],ARGV[1])” 1 qs 2673</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/redis的数据类型/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:31:45.475Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="redis的数据类型"><a href="#redis的数据类型" class="headerlink" title="redis的数据类型"></a>redis的数据类型</h3><h4 id="目前官网一共有8中"><a href="#目前官网一共有8中" class="headerlink" title="目前官网一共有8中"></a>目前官网一共有8中</h4><p>strings, hashes, lists, sets, sorted sets </p>
<p>hyperloglogs, geospatial indexes, and streams</p>
<p>字符串</p>
<p>String</p>
<p>int</p>
<p>float</p>
<h4 id="操作指令"><a href="#操作指令" class="headerlink" title="操作指令"></a>操作指令</h4><h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><p>指令</p>
<p>mset yongjie 1234 qingshan 666 EX 10   10秒过期</p>
<p>mset yongjie 1234 qingshan 666 PX 10    10毫秒过期</p>
<p>mset yongjie 1234 qingshan 666 NX 10     不存在才成功</p>
<p>mset yongjie 1234 qingshan 666 XX 10     存在才成功</p>
<p>mget yongjie qingshan</p>
<p>strlen qingshan</p>
<p>append qingshang good</p>
<p>getranger qingshan 0 8</p>
<p>incr qingshan</p>
<p>incrby qingshan 100</p>
<p>decr qingshan</p>
<p>decrby qingshan 100</p>
<p>set f 2.6</p>
<p>incrbyfloat f 7.3</p>
<p>del f</p>
<p>批量赋值可以保证原子性</p>
<p>string应用场景</p>
<p>1.缓存</p>
<p>2.分布式session</p>
<p>3.set NX EX分布式锁</p>
<p>4.incr全局ID</p>
<p>5.incr计数器</p>
<p>6.incr限流</p>
<p>7.位操作统计</p>
<h4 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h4><table>
<thead>
<tr>
<th>id</th>
<th>sno</th>
<th>sname</th>
<th>company</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>16666</td>
<td>张岩</td>
<td>腾讯</td>
</tr>
<tr>
<td>2</td>
<td>17777</td>
<td>王芳</td>
<td>百度</td>
</tr>
<tr>
<td>3</td>
<td>18888</td>
<td>刘厉</td>
<td>阿里</td>
</tr>
</tbody></table>
<p>mset student:1:sno 1666 student:1:sname 张岩</p>
<p>hash里面value只能存储字符串</p>
<p>hash和string区别：</p>
<ul>
<li><p>用冒号去分层，减少内存的消耗</p>
</li>
<li><p>减少命名的冲突</p>
</li>
<li><p>一次取多个，减少资源的消耗</p>
</li>
</ul>
<p>hash是按照key取模去做集群，如果一个key特别大，没办法分流</p>
<p>指令：</p>
<p>hset h1 f 6</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/13/rabbitmq安装/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-13T15:31:24.876Z" itemprop="datePublished"> Published 2021-08-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="rabbitmq安装"><a href="#rabbitmq安装" class="headerlink" title="rabbitmq安装"></a>rabbitmq安装</h3><p><strong>安装</strong></p>
<p><a target="_blank" rel="noopener" href="https://gper.club/articles/7e7e7f7ff4g56gceg6e">https://gper.club/articles/7e7e7f7ff4g56gceg6e</a></p>
<p>erlang版本与rabbitmq验证</p>
<p><a target="_blank" rel="noopener" href="http://www.rabbitmq.com/which-erlang.html">http://www.rabbitmq.com/which-erlang.html</a></p>
<p><strong>安装erlang</strong></p>
<p><strong>验证erlang：erl</strong></p>
<p><strong>安装rabbitmq</strong></p>
<p><strong>配置环境变量</strong></p>
<p><strong>启动rabbitmq</strong></p>
<p><strong>添加其他用户</strong></p>
<p><strong>启用管理插件</strong></p>
<p><strong>端口15627</strong></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/10/redis GEO Spatial & Hyperloglogs/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-10T02:40:50.273Z" itemprop="datePublished"> Published 2021-08-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="redis-GEO-Spatial-amp-Hyperloglogs"><a href="#redis-GEO-Spatial-amp-Hyperloglogs" class="headerlink" title="redis GEO Spatial &amp; Hyperloglogs"></a>redis GEO Spatial &amp; Hyperloglogs</h3><p><strong>geo spatial</strong></p>
<p>指令：</p>
<p>geoadd citys 121.48 21.22 sh 113.01 28.19 cs</p>
<p>geopos  citys cs</p>
<p>geopos citys sh cs km</p>
<p>georadius citys 113.01 28.19 5 km</p>
<p>georadiusbymember citys cs 20 km</p>
<p>添加两个城市的经纬度</p>
<p>显示某个城市的经纬度</p>
<p>计算两个城市的距离</p>
<p>显示某个位置5km的城市</p>
<p><strong>hyperloglogs</strong></p>
<p>指令：</p>
<p>pfadd log 1 2 3 4 5 6 7 8</p>
<p>pfcount log</p>
<p>pfadd qs a b c d e f g</p>
<p>pfcount qs </p>
<p>pfmerge result log qs</p>
<p>应用：</p>
<p>统计网站用户的访问量</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/09/redis Zset/" title="redis zset" itemprop="url">redis zset</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-09T12:42:54.725Z" itemprop="datePublished"> Published 2021-08-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="redis-Zset"><a href="#redis-Zset" class="headerlink" title="redis Zset"></a>redis Zset</h3><p>每个值都有一个分数</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210809203057248.png" alt="image-20210809203057248"></p>
<p>zset操作指令</p>
<p>zadd myzset 10 java 20 php 30 ruby 40 cpp 50 python</p>
<p>zrange myzset 0 -1 withscores</p>
<p>zrevrange myzset 0 -1 withscores</p>
<p>zrangebyscore myzset 20 30</p>
<p>zrem myzset php cpp 移除</p>
<p>zcard myzset 统计还有多少</p>
<p>zcount myzset 20 60</p>
<p>zcount myzset 20 60</p>
<p>zrank myzset java</p>
<p>zscore myzset java</p>
<p>应用</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20210809204202227.png" alt="image-20210809204202227"></p>
<p>排行榜</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/05/maven是用来下载依赖和打包代码的工具/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-05T15:16:39.202Z" itemprop="datePublished"> Published 2021-08-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>maven是用来下载依赖和打包代码的工具。</strong></p>
<p><strong>本章主要简单介绍maven的下载以及配置</strong></p>
<ul>
<li>1.maven的下载</li>
<li>2.环境变量的配置</li>
<li>3.配置文件的配置</li>
<li>4.idea设置</li>
</ul>
<p><strong>1.maven的下载与安装</strong></p>
<p>maven可以直接从官网下载最新的版本。</p>
<p>maven版本太高或者太低都会有兼容性问题，目前（2021/7）推荐使用3.3.*至3.6.*之间。其中binaries是编译好的文件，source是源代码，需要重新编译。推荐下载binaries版本。</p>
<p><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/">https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/</a></p>
<p>下载后直接解压即可，我将目录移至了C:\Program Files下，如图</p>
<p><img src="C:\Users\admin\Desktop\maven.JPG" alt="maven"></p>
<p><strong>2.环境变量的配置</strong></p>
<p>配置maven前，需要检查Java是否已经配置。</p>
<p><img src="C:\Users\admin\Desktop\java.JPG" alt="java"></p>
<p>如果没有的话，需要同时配置java和maven的环境变量</p>
<p>如下图，在环境变量的系统变量中添加JAVA_HOME和MAVEN_HOME,分别为安装路径</p>
<p><img src="C:\Users\admin\Desktop\home.JPG" alt="home"></p>
<p>之后将java和maven的bin、路径分别添加到path中</p>
<p><img src="C:\Users\admin\Desktop\bin.JPG" alt="bin"></p>
<p>win10以下版本如下图</p>
<p>![win7 maven](C:\Users\admin\Desktop\win7 maven.JPG)</p>
<p>最后在cmd中输入mvn-v ，可以正常查到即可</p>
<p><img src="C:\Users\admin\Desktop\maven版本.JPG" alt="maven版本"></p>
<p>3.<strong>配置文件的配置</strong></p>
<p><img src="C:\Users\admin\Desktop\maven.JPG" alt="maven"></p>
<p>打开maven目录下的conf目录，</p>
<p><img src="C:\Users\admin\Desktop\conf.JPG" alt="conf"></p>
<p>打开settings.xml配置仓库的本地路径和远程仓库路径。</p>
<p>如果不配置，那么远程仓库路径是国外路径，速度较慢；默认依赖下载路径为</p>
<p>C:\Users\admin\.m2\repository</p>
<p>C盘用户下的repository路径。</p>
<p>在settings中添加</p>
<p> <code>&lt;localRepository&gt;D:\repository&lt;/localRepository&gt;</code></p>
<p>在mirrors中添加</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;mirror&gt;</span><br><span class="line">        &lt;id&gt;alimaven&lt;/id&gt;</span><br><span class="line">        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class="line">        &lt;name&gt;aliyun maven&lt;/name&gt;</span><br><span class="line">        &lt;url&gt;https:<span class="comment">//maven.aliyun.com/repository/central/&lt;/url&gt;</span></span><br><span class="line">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure>

<p>最后结果如图</p>
<p><img src="C:\Users\admin\Desktop\settings.JPG" alt="settings"></p>
<p><strong>4.idea设置</strong></p>
<p>idea的设定分为项目设定和全局设定，如果要每次打开idea都使用配置好的maven，在打开界面选择</p>
<p>Configure-&gt;Settings-&gt;Maven</p>
<p>Maven home directory选择设定好的版本，local repository就会自动变更，如果没有自动变更说明上一步配置文件设置错了，至此maven就已经配置好了。</p>
<p><img src="C:\Users\admin\Desktop\idea.JPG" alt="idea"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/05/Reentranlock/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-05T15:14:47.443Z" itemprop="datePublished"> Published 2021-08-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Reentranlock</p>
<p>thread1 执行业务代码lock</p>
<p>把aqs里的state改成1  cas操作aba，aba操作加版本号</p>
<p>park和unpark可以指定线程</p>
<p>非公平锁的体现，前线程执行完以后，unpark的线程和新来的线程同时抢占锁</p>
<p>公平锁和非公平锁的区别：</p>
<p>只能队列里面的抢占，可以队列里面的线程和刚进来的线程</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2021/08/05/redis配置/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yorkiiz" target="_blank" itemprop="author">yorkiiz</a>
		
  <p class="article-time">
    <time datetime="2021-08-05T15:14:47.438Z" itemprop="datePublished"> Published 2021-08-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="redis配置"><a href="#redis配置" class="headerlink" title="redis配置"></a>redis配置</h4><ol>
<li>查看6379（或者自定义redis端口）时候打开<ul>
<li>firewall-cmd –query-port=6379/tcp 如果返回no则端口没有开启</li>
<li>firewall-cmd –add-port=6379/tcp （加 –permanent 永久有效），返回success说明开启成功</li>
</ul>
</li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/">&lt;span&gt;&lt;&#x2F;span&gt;Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next&lt;span&gt;&lt;&#x2F;span&gt;</a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  

  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m yorkiiz in github. <br/>
			天道酬勤.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2021 
		
		<a href="/about" target="_blank" title="yorkiiz">yorkiiz</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
